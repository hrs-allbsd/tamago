2014-11-05  Niibe Yutaka  <gniibe@fsij.org>

	* egg.el (egg-version): 4.1.2.

	* egg.el, its.el (egg-edep): Don't require.
	* egg-cnv.el, egg-com.el: Likewise.
	* egg/anthy.el, egg/sj3.el, egg/wnn.el, egg/canna.el: Likewise.

2014-11-05  Niibe Yutaka  <gniibe@fsij.org>

	* egg.el (egg-version): 4.1.1.

	* Makefile.in (INITELS): Remove eggrc.
	(EGGSRCS): Remove egg/cannarpc.el, egg/canna.el,
	egg/wnnrpc.el and egg/wnn.el.

	* egg-edep.el: Remove.

	* egg-cnv.el (egg-decide-first-char): Use aref.

	* its.el (its-exit-mode-internal): Simplify with no multi-lang.
	(its-kick-convert-region, its-kick-convert-region-or-self-insert):
	Likewise.
	(its-setup-yanked-portion): Use +1 (only for Emacs 20.3 or later).

	* egg-cnv.el (egg-get-conversion-backend): Remove.
	(egg-default-conversion-backend-p): Remove.
	(egg-get-current-backend): Remove.
	(egg-get-reconvert-backend): Remove.
	(egg-get-conversion-backend, egg-convert-region): Simplify.
	(egg-assign-backend, egg-search-file): Remove.
	(egg-insert-bunsetsu-list): Simplify.
	(egg-insert-new-bunsetsu): Simplify.
	(egg-reconvert-bunsetsu-internal): Likewise.
	(egg-toroku-region): Likewise.

	* egg.el (egg-mark-list, egg-suppress-marking)
	(egg-mark-modification, egg-redraw-face): Remove.
	(egg-set-face): Just add face property to text.

2014-11-04  Niibe Yutaka  <gniibe@fsij.org>

	* egg-cnv.el (egg-separate-languages): Remove.
	(egg-convert-region, egg-toroku-string): Don't call
	egg-separate-languages.
	* its.el (its-setup-yanked-portion): Likewise.

	* egg-cnv.el (egg-get-language): Remove.
	(egg-toroku-string): Don't call egg-get-language.

	* egg-cnv.el (egg-next-chinese-lang, egg-next-part-lang): Remove.

	* egg-cnv.el (egg-start-conversion-noconv): Don't put language,
	it's NIL always.
	(egg-decide-before-point, egg-toroku-bunsetsu): Likewise.
	(egg-assign-backend): Likewise.

	* egg-cnv.el (egg-charset-to-language): Remove.

	* egg-cnv.el (egg-default-startup-file, egg-load-startup-file):
	Remove.

2014-10-31  Niibe Yutaka  <gniibe@fsij.org>

	* egg.el (egg-version): 4.1.0 as a fork by gniibe.

	* egg-cnv.el: Mention copyright notice is not correct,
	but it's no problem to distribute under GPLv2+.

2014-10-30  Niibe Yutaka  <gniibe@fsij.org>

	* leim-list.el ("Japanese"): Default is now Anthy backend.

	* egg-cnv.el (egg-separate-characters): Remove.
	(egg-get-char-size): Remove.
	(egg-enlarge-bunsetsu-internal): Just use LENGTH.

	* egg.el (egg-mode): Don't call make-local-hook which is not
	needed any more.
	* menudiag.el (menudiag-selection-mode): Likewise.

	* Makefile.in (datarootdir): New.

	* leim-list.el ("chinese-gb-egg-wnn-py")
	("chinese-gb-egg-wnn-zy", "chinese-gb-egg-wnn-qm")
	("chinese-gb-egg-wnn-wb", "chinese-cns-egg-wnn-py")
	("chinese-cns-egg-wnn-zy", "korean-egg-wnn"): Removal of Chinese
	and Korean Wnn support, which was very experimental even at
	the development days of 1999.

	* configure: Regenerated.

	* Makefile.in: Removal of @HAVE_JISX0213@.

	* configure.ac: Rename.

	* check-jisx0213.el: Removed from repo and distribution..
	* egg-x0213.el: Removed from repo and distribution.
	* jisx0213.el: Removed from repo and distribution.

	* egg.el (egg): It's under leim group.
	(egg-mode): Replace obsolete variable
	inactivate-current-input-method-function.
	(egg-exit-from-minibuffer): Replace obsolete function
	inactivate-input-method.

	* egg-sim.el (make-non-iso2022-code-table-file)
	(make-iso2022-94char-code-table-file)
	(make-iso2022-96char-code-table-file, make-euc-code-table-file):
	Remove format which is not needed.

	* menudiag.el (menudiag-choose-item-internal): Use
	choose-completion.

	* egg/canna.el (canna-word-delete-regist): Fix lambda.

	* egg-mlh.el (mlh-zenkaku-white, mlh-white-space): Use
	string-to-number.
	* menudiag.el (menudiag-choose-item-internal): Likewise.

	* its.el (its-mode-help-command): Use called-interactively-p.
	* egg-cnv.el (egg-help-command): Likewise.

	* egg-com.el: Remove support of fixed-euc-kr, fixed-euc-py-cn,
	fixed-euc-zy-cn, fixed-euc-py-tw, fixed-euc-zy-tw and egg-binary.
	(comm-unpack-binary-data): Use 'binary for decode-coding-string.

	* egg/anthy.el (anthy-new-environment): Use
	set-process-query-on-exit-flag.
	* egg/sj3.el (sj3-open): Likewise.
	* egg/canna.el (canna-open): Likewise.
	Use string-to-number.
	* egg/wnn.el (wnn-open): Likewise.

2014-10-24  Niibe Yutaka  <gniibe@fsij.org>

	* egg-com.el (fixed-euc-jp): Fix for modern Emacs.
	Thanks to Handa-san.
